---
- name: Gather credentials - PB1
  hosts: all
  gather_facts: false
# prerequisites = have a collections folder in your repo
# with requirements.yml in it with the following:
#---
#collections:
#- pge_util.papm_util
##
  tasks:
# 
# task needed for credentials in playbookone.yml
#
  - name: Include task list in play - import - task 1
    ansible.builtin.import_tasks:
      # make sure to have playbookeone in your repo 
      file: playbookone.yml

- name: 
  hosts: all
  gather_facts: true

  tasks:
  - name: Ping an arbitrary Windows server
    ansible.builtin.win_ping:
  - debug:
      msg: "GA Ansible hostname is {{ ansible_hostname }}"
  
  - name: Delete a folder c:\ansible
    ansible.windows.win_file:
      path: C:\ansible
      state: absent
  
  - name: add a registry key g2aoapp1
    ansible.windows.win_regedit:
      path: HKLM:\SOFTWARE\g2aoapp1
      state: present
  - name: add a registry key g2aoapp2
    ansible.windows.win_regedit:
      path: HKLM:\SOFTWARE\g2aoapp2
      state: present
  - name: add a registry key g2aoapp3
    ansible.windows.win_regedit:
      path: HKLM:\SOFTWARE\g2aoapp3
      state: present
  - name: remove a registry key g2aoapp0
    ansible.windows.win_regedit:
      path: HKLM:\SOFTWARE\g2aoapp0
      state: absent
  - name: remove a registry key g2aoapp6
    ansible.windows.win_regedit:
      path: HKLM:\SOFTWARE\g2aoapp6
      state: absent

